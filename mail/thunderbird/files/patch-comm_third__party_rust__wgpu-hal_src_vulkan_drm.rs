commit b75e77a167951933af8aaa334551dced25fdded4
Author: Christoph Moench-Tegeder <cmt@FreeBSD.org>

    fix type error
    
    this happens only in comm/, not in the main tree
    
    error[E0308]: mismatched types
        --> /wrkdirs/usr/ports/mail/thunderbird/work/thunderbird-138.0/comm/third_party/rust/wgpu-hal/src/vulkan/drm.rs:85:27
         |
    85   |                 .contains(&drm_stat.st_rdev)
         |                  -------- ^^^^^^^^^^^^^^^^^ expected `&u64`, found `&u32`
         |                  |
         |                  arguments to this method are incorrect
         |
         = note: expected reference `&u64`
                    found reference `&u32`

diff --git comm/third_party/rust/wgpu-hal/.cargo-checksum.json comm/third_party/rust/wgpu-hal/.cargo-checksum.json
index e48594c386..124405426f 100644
--- comm/third_party/rust/wgpu-hal/.cargo-checksum.json
+++ comm/third_party/rust/wgpu-hal/.cargo-checksum.json
@@ -1 +1 @@
-{"files":{"Cargo.toml":"f27848ebaa3b29a9857c545212793f99a020cd271907b504b16ed740691a08db","LICENSE.APACHE":"a6cba85bc92e0cff7a450b1d873c0eaa2e9fc96bf472df0247a26bec77bf3ff9","LICENSE.MIT":"c7fea58d1cfe49634cd92e54fc10a9d871f4b275321a4cd8c09e449122caaeb4","README.md":"cf9e84804a635e4a8a9fefc596be9da6bf7354dde0d105e27d56a12cb20dd8e3","build.rs":"40c99bddda32846afd639d84b9a160ddab338092560b5cb3402112ff37ab4fba","examples/halmark/main.rs":"a16c6902b2ad1a4d8db8d057091b47259d5f59e63058b07a4bada6c7defd9312","examples/halmark/shader.wgsl":"26c256ec36d6f0e9a1647431ca772766bee4382d64eaa718ba7b488dcfb6bcca","examples/raw-gles.em.html":"70fbe68394a1a4522192de1dcfaf7d399f60d7bdf5de70b708f9bb0417427546","examples/raw-gles.rs":"288dae4c701aa7e5ba498fdd03ea42e1046a27db0914d93c88a43a7953cb9064","examples/ray-traced-triangle/main.rs":"3d702095bd8295a0f762fded0e123845beb4d2c25bda2cf05c2de94a9420023c","examples/ray-traced-triangle/shader.wgsl":"cc10caf92746724a71f6dd0dbc3a71e57b37c7d1d83278556805a535c0728a9d","src/auxil/dxgi/conv.rs":"c7564baf7142ebcc1135e14f0c2600580edde8903279372bd25767fe532d20d3","src/auxil/dxgi/exception.rs":"7df3597c1fd6e7708f96a342846b87e6c6cc17fb9dbe09f6aec54984809a4818","src/auxil/dxgi/factory.rs":"fbae1cf83f4ac8cd356557fb3caa0da92c3968d68a36f5c8ea18b90b3bcaeeaa","src/auxil/dxgi/mod.rs":"56925eb2801c4abe80254ada791cd6587a97472f50df715534d61a362253e05b","src/auxil/dxgi/result.rs":"a14b8b0dd052e7dde11220043f180d2e8ce7ae522dea6e96536c82db13fc7abc","src/auxil/dxgi/time.rs":"1414a57363adf8381d89d9c1efdf9eee471081e1a2a583ae90f0310fd8902fd4","src/auxil/mod.rs":"540b9250d9f0e0af709245ce1e284eaca15b27d47550b0ebba2a512da1666c48","src/auxil/renderdoc.rs":"e687710ea0c9e88c9be0e2acd39d136635b835ffb941886b875811b3ec945080","src/dx12/adapter.rs":"ffcd8f8f429334c85a66c74795f2adbf2b03d4538af8fd70e480bd42fd9e6292","src/dx12/command.rs":"b348f945b4af33aecf667139c8ec7a697d5cf8cbb686c3220ac655c86164b876","src/dx12/conv.rs":"818bbbac8bb593fe1b0346b69cfd36c68e9a78e8be7e9f1ecac62a19133fc2ff","src/dx12/descriptor.rs":"fa523bb069b775065367a71edad7fbbfa2bad6f952a4781b048ecec0d35b70fb","src/dx12/device.rs":"c5343a6e783bdb5cf10beed9969261667ae244b74d2a081a246730da124a0c1e","src/dx12/instance.rs":"626ff3377fae82a356da3ebc66b6c453a6c9bfb0bb0cce51c4c3f20b2d9df964","src/dx12/mod.rs":"f1a1168520a77917e51ef226712bd5bc944e17af5455cfa40a4fab0121a78921","src/dx12/sampler.rs":"402b5850dc64ab23b760fa9ab44c229ed808bc4ab58f78de0b889b68a0e207c0","src/dx12/shader_compilation.rs":"32458bd5e63a855f24aea2345a4b65b3f2d1704a06480d6107ea247b6f0974b3","src/dx12/suballocation.rs":"ff637f0c1d618ea2abf259c13b7830ba15fba77d026c575835afa459261283b6","src/dx12/types.rs":"3fc7619fc09303eb3c936d4ded6889f94ce9e8b9aa62742ce900baa1b1e1cca7","src/dx12/view.rs":"3f4c23a34b86e3bfbcb11169a9dec5e1c21425e7ecad846b36c159ced0138cee","src/dynamic/adapter.rs":"e93f7d082a3950c9e8ccff8a631d251c7598b4b25dda9fe6347dadfa3ba07829","src/dynamic/command.rs":"a67394c333b2f0773717d64d7ca9a900868e7ce46dac832ec09a17a5a84bfa43","src/dynamic/device.rs":"230c48fba8e49cc46c420bcd1621beaf9802be9e65710cbfc2c1aea78e91b573","src/dynamic/instance.rs":"7b515c201e1ca24f24439544dbfa1d19ea1412a4f89bd803e009aed13b021e55","src/dynamic/mod.rs":"b02a3c11b22c896cf66ef206f5d4bb4e24988ecadc29972c572baf347f54aa04","src/dynamic/queue.rs":"d76abb4797e90253386d24584f186dbe1909e772560156b2e891fa043cfefbdc","src/dynamic/surface.rs":"4328c2fe86931f50aa00ac3d6982d0879b774eebf7a507903d1b1898c891fb4d","src/gles/adapter.rs":"e0187c442af127cb3940af9f1c5b27836a290bed706ca2177b7e03e1ae3021ef","src/gles/command.rs":"11becc2f9e6171b0cc90456d9c414b94e7f2152a53e4753c90aca3c42ab0204f","src/gles/conv.rs":"7f885dd2bc72641d22f8f2e688ebdd857663bfe315f1b5364ea302f99a05adbf","src/gles/device.rs":"d638f7e434005fe921922a75aa6d2404766bd687ecdc95f5eeb09079c5ea8bf6","src/gles/egl.rs":"c9737871f276c81f1994ebd55dabf8817cb46bdb4ecd495b1c28b52aba8f74fd","src/gles/emscripten.rs":"316d2bb6f2a4bb126dbe68a223f7393399080d116b61c39504454acdf4f9cfaf","src/gles/fence.rs":"083cd49747aba6272002aba0b0c37e5768cdbc2a1b8bacd1a244ee905d3f7b0f","src/gles/mod.rs":"346cbbe8bd070b24f36aefd3c425d8c255716a675a3ce182f12c39f580f6a077","src/gles/queue.rs":"992099d38a23d1f30292749932e627e74d490b62fbbba945b0349ac04d86dd88","src/gles/shaders/clear.frag":"9133ed8ed97d3641fbb6b5f5ea894a3554c629ccc1b80a5fc9221d7293aa1954","src/gles/shaders/clear.vert":"a543768725f4121ff2e9e1fb5b00644931e9d6f2f946c0ef01968afb5a135abd","src/gles/shaders/srgb_present.frag":"dd9a43c339a2fa4ccf7f6a1854c6f400cabf271a7d5e9230768e9f39d47f3ff5","src/gles/shaders/srgb_present.vert":"6e85d489403d80b81cc94790730bb53b309dfc5eeede8f1ea3412a660f31d357","src/gles/web.rs":"cb5940bf7b2381811675011b640040274f407a7d1908d0f82c813d6a9d3b00f7","src/gles/wgl.rs":"4242466a745e2263204e61b7de011c4a9a4c559ab06ae4df063685762b0cd042","src/lib.rs":"46ce110c98da4c32a678010f75d0b60bb44e55ed3edc139d8234d9e760d796b9","src/metal/adapter.rs":"6fef5b86aa923a75495adc5a51f4b9c7fa78da3194e7a58d3c6c527a2032f3f3","src/metal/command.rs":"e8af9260abc9852fce35d4dda981750c8f4c4d970ca9959e48442a036414aa8a","src/metal/conv.rs":"17f37cf5fea93b437e5ec9cfff9ae96e2c6a7f23fb2d3890616fb8dbeb5f13c4","src/metal/device.rs":"7874cfb8c865c2e65bfc07489b61a58f67a40974749b705a25172db444064ff5","src/metal/layer_observer.rs":"8370a6e443d01739b951b8538ee719a03b69fc0cbac92c748db418fbcc8837b5","src/metal/mod.rs":"d074363a2a7696dafac0c37d2460bbcb938b5a4b5029f8247a9574e2d42df819","src/metal/surface.rs":"828cf6f22bb5038afbd471d4164ecc256e832d51b0a845a12be839289f8bded8","src/metal/time.rs":"c32d69f30e846dfcc0e39e01097fb80df63b2bebb6586143bb62494999850246","src/noop/buffer.rs":"89a938411204b33082200a1306fe589587de15142392d7ec591676512e4cfeb2","src/noop/command.rs":"917b70ac315101633094b3f92744310a60940747a2cc8a9368141200ce0ed1fd","src/noop/mod.rs":"1af00e4b7bd2e57fec3c1dfbd56efd5acf3dfeb9f2d3618f91a6e40cdce6d59d","src/vulkan/adapter.rs":"db66ff6030749dc7960a5f8a224a6131bbb14c44f3ae238d6cb3b717a00c0c4d","src/vulkan/command.rs":"571662697bdfd6d8f5dada24a57dd72b6324f9f3abc787025adca67df7455cd4","src/vulkan/conv.rs":"ebb9bd12bfcf2c596d89c515b3d767241d61beb7cc138c61759a627183f23aa7","src/vulkan/device.rs":"6c69b59f703d119727727428a9bf389c242a2fb09628bcc4c91a1982e7fb0ee5","src/vulkan/drm.rs":"22aaa0644cf7e90840bce0377e8f990c0a839f46a054497dbb96105d59999022","src/vulkan/instance.rs":"0880893f69bc348cd1d5bcc00509d09e84e84960fe0c4ac2f9a2e4b0090d83a7","src/vulkan/mod.rs":"025833e3521186838a50219ef4a584fd7b388cc88a7901db75a33ad32790d66b","src/vulkan/sampler.rs":"77a91ec2e61481256eddcff7c4081d72b5cda09e2824333d77945da9eada8933"},"package":null}
\ No newline at end of file
+{"files":{"Cargo.toml":"f27848ebaa3b29a9857c545212793f99a020cd271907b504b16ed740691a08db","LICENSE.APACHE":"a6cba85bc92e0cff7a450b1d873c0eaa2e9fc96bf472df0247a26bec77bf3ff9","LICENSE.MIT":"c7fea58d1cfe49634cd92e54fc10a9d871f4b275321a4cd8c09e449122caaeb4","README.md":"cf9e84804a635e4a8a9fefc596be9da6bf7354dde0d105e27d56a12cb20dd8e3","build.rs":"40c99bddda32846afd639d84b9a160ddab338092560b5cb3402112ff37ab4fba","examples/halmark/main.rs":"a16c6902b2ad1a4d8db8d057091b47259d5f59e63058b07a4bada6c7defd9312","examples/halmark/shader.wgsl":"26c256ec36d6f0e9a1647431ca772766bee4382d64eaa718ba7b488dcfb6bcca","examples/raw-gles.em.html":"70fbe68394a1a4522192de1dcfaf7d399f60d7bdf5de70b708f9bb0417427546","examples/raw-gles.rs":"288dae4c701aa7e5ba498fdd03ea42e1046a27db0914d93c88a43a7953cb9064","examples/ray-traced-triangle/main.rs":"3d702095bd8295a0f762fded0e123845beb4d2c25bda2cf05c2de94a9420023c","examples/ray-traced-triangle/shader.wgsl":"cc10caf92746724a71f6dd0dbc3a71e57b37c7d1d83278556805a535c0728a9d","src/auxil/dxgi/conv.rs":"c7564baf7142ebcc1135e14f0c2600580edde8903279372bd25767fe532d20d3","src/auxil/dxgi/exception.rs":"7df3597c1fd6e7708f96a342846b87e6c6cc17fb9dbe09f6aec54984809a4818","src/auxil/dxgi/factory.rs":"fbae1cf83f4ac8cd356557fb3caa0da92c3968d68a36f5c8ea18b90b3bcaeeaa","src/auxil/dxgi/mod.rs":"56925eb2801c4abe80254ada791cd6587a97472f50df715534d61a362253e05b","src/auxil/dxgi/result.rs":"a14b8b0dd052e7dde11220043f180d2e8ce7ae522dea6e96536c82db13fc7abc","src/auxil/dxgi/time.rs":"1414a57363adf8381d89d9c1efdf9eee471081e1a2a583ae90f0310fd8902fd4","src/auxil/mod.rs":"540b9250d9f0e0af709245ce1e284eaca15b27d47550b0ebba2a512da1666c48","src/auxil/renderdoc.rs":"e687710ea0c9e88c9be0e2acd39d136635b835ffb941886b875811b3ec945080","src/dx12/adapter.rs":"ffcd8f8f429334c85a66c74795f2adbf2b03d4538af8fd70e480bd42fd9e6292","src/dx12/command.rs":"b348f945b4af33aecf667139c8ec7a697d5cf8cbb686c3220ac655c86164b876","src/dx12/conv.rs":"818bbbac8bb593fe1b0346b69cfd36c68e9a78e8be7e9f1ecac62a19133fc2ff","src/dx12/descriptor.rs":"fa523bb069b775065367a71edad7fbbfa2bad6f952a4781b048ecec0d35b70fb","src/dx12/device.rs":"c5343a6e783bdb5cf10beed9969261667ae244b74d2a081a246730da124a0c1e","src/dx12/instance.rs":"626ff3377fae82a356da3ebc66b6c453a6c9bfb0bb0cce51c4c3f20b2d9df964","src/dx12/mod.rs":"f1a1168520a77917e51ef226712bd5bc944e17af5455cfa40a4fab0121a78921","src/dx12/sampler.rs":"402b5850dc64ab23b760fa9ab44c229ed808bc4ab58f78de0b889b68a0e207c0","src/dx12/shader_compilation.rs":"32458bd5e63a855f24aea2345a4b65b3f2d1704a06480d6107ea247b6f0974b3","src/dx12/suballocation.rs":"ff637f0c1d618ea2abf259c13b7830ba15fba77d026c575835afa459261283b6","src/dx12/types.rs":"3fc7619fc09303eb3c936d4ded6889f94ce9e8b9aa62742ce900baa1b1e1cca7","src/dx12/view.rs":"3f4c23a34b86e3bfbcb11169a9dec5e1c21425e7ecad846b36c159ced0138cee","src/dynamic/adapter.rs":"e93f7d082a3950c9e8ccff8a631d251c7598b4b25dda9fe6347dadfa3ba07829","src/dynamic/command.rs":"a67394c333b2f0773717d64d7ca9a900868e7ce46dac832ec09a17a5a84bfa43","src/dynamic/device.rs":"230c48fba8e49cc46c420bcd1621beaf9802be9e65710cbfc2c1aea78e91b573","src/dynamic/instance.rs":"7b515c201e1ca24f24439544dbfa1d19ea1412a4f89bd803e009aed13b021e55","src/dynamic/mod.rs":"b02a3c11b22c896cf66ef206f5d4bb4e24988ecadc29972c572baf347f54aa04","src/dynamic/queue.rs":"d76abb4797e90253386d24584f186dbe1909e772560156b2e891fa043cfefbdc","src/dynamic/surface.rs":"4328c2fe86931f50aa00ac3d6982d0879b774eebf7a507903d1b1898c891fb4d","src/gles/adapter.rs":"e0187c442af127cb3940af9f1c5b27836a290bed706ca2177b7e03e1ae3021ef","src/gles/command.rs":"11becc2f9e6171b0cc90456d9c414b94e7f2152a53e4753c90aca3c42ab0204f","src/gles/conv.rs":"7f885dd2bc72641d22f8f2e688ebdd857663bfe315f1b5364ea302f99a05adbf","src/gles/device.rs":"d638f7e434005fe921922a75aa6d2404766bd687ecdc95f5eeb09079c5ea8bf6","src/gles/egl.rs":"c9737871f276c81f1994ebd55dabf8817cb46bdb4ecd495b1c28b52aba8f74fd","src/gles/emscripten.rs":"316d2bb6f2a4bb126dbe68a223f7393399080d116b61c39504454acdf4f9cfaf","src/gles/fence.rs":"083cd49747aba6272002aba0b0c37e5768cdbc2a1b8bacd1a244ee905d3f7b0f","src/gles/mod.rs":"346cbbe8bd070b24f36aefd3c425d8c255716a675a3ce182f12c39f580f6a077","src/gles/queue.rs":"992099d38a23d1f30292749932e627e74d490b62fbbba945b0349ac04d86dd88","src/gles/shaders/clear.frag":"9133ed8ed97d3641fbb6b5f5ea894a3554c629ccc1b80a5fc9221d7293aa1954","src/gles/shaders/clear.vert":"a543768725f4121ff2e9e1fb5b00644931e9d6f2f946c0ef01968afb5a135abd","src/gles/shaders/srgb_present.frag":"dd9a43c339a2fa4ccf7f6a1854c6f400cabf271a7d5e9230768e9f39d47f3ff5","src/gles/shaders/srgb_present.vert":"6e85d489403d80b81cc94790730bb53b309dfc5eeede8f1ea3412a660f31d357","src/gles/web.rs":"cb5940bf7b2381811675011b640040274f407a7d1908d0f82c813d6a9d3b00f7","src/gles/wgl.rs":"4242466a745e2263204e61b7de011c4a9a4c559ab06ae4df063685762b0cd042","src/lib.rs":"46ce110c98da4c32a678010f75d0b60bb44e55ed3edc139d8234d9e760d796b9","src/metal/adapter.rs":"6fef5b86aa923a75495adc5a51f4b9c7fa78da3194e7a58d3c6c527a2032f3f3","src/metal/command.rs":"e8af9260abc9852fce35d4dda981750c8f4c4d970ca9959e48442a036414aa8a","src/metal/conv.rs":"17f37cf5fea93b437e5ec9cfff9ae96e2c6a7f23fb2d3890616fb8dbeb5f13c4","src/metal/device.rs":"7874cfb8c865c2e65bfc07489b61a58f67a40974749b705a25172db444064ff5","src/metal/layer_observer.rs":"8370a6e443d01739b951b8538ee719a03b69fc0cbac92c748db418fbcc8837b5","src/metal/mod.rs":"d074363a2a7696dafac0c37d2460bbcb938b5a4b5029f8247a9574e2d42df819","src/metal/surface.rs":"828cf6f22bb5038afbd471d4164ecc256e832d51b0a845a12be839289f8bded8","src/metal/time.rs":"c32d69f30e846dfcc0e39e01097fb80df63b2bebb6586143bb62494999850246","src/noop/buffer.rs":"89a938411204b33082200a1306fe589587de15142392d7ec591676512e4cfeb2","src/noop/command.rs":"917b70ac315101633094b3f92744310a60940747a2cc8a9368141200ce0ed1fd","src/noop/mod.rs":"1af00e4b7bd2e57fec3c1dfbd56efd5acf3dfeb9f2d3618f91a6e40cdce6d59d","src/vulkan/adapter.rs":"db66ff6030749dc7960a5f8a224a6131bbb14c44f3ae238d6cb3b717a00c0c4d","src/vulkan/command.rs":"571662697bdfd6d8f5dada24a57dd72b6324f9f3abc787025adca67df7455cd4","src/vulkan/conv.rs":"ebb9bd12bfcf2c596d89c515b3d767241d61beb7cc138c61759a627183f23aa7","src/vulkan/device.rs":"6c69b59f703d119727727428a9bf389c242a2fb09628bcc4c91a1982e7fb0ee5","src/vulkan/drm.rs":"d7ba8b25c9b67950653514c05f4df6e11a8bbdb189317b36059b2de25cc10670","src/vulkan/instance.rs":"0880893f69bc348cd1d5bcc00509d09e84e84960fe0c4ac2f9a2e4b0090d83a7","src/vulkan/mod.rs":"025833e3521186838a50219ef4a584fd7b388cc88a7901db75a33ad32790d66b","src/vulkan/sampler.rs":"77a91ec2e61481256eddcff7c4081d72b5cda09e2824333d77945da9eada8933"},"package":null}
\ No newline at end of file
diff --git comm/third_party/rust/wgpu-hal/src/vulkan/drm.rs comm/third_party/rust/wgpu-hal/src/vulkan/drm.rs
index ec62a8f256..6358e8739a 100644
--- comm/third_party/rust/wgpu-hal/src/vulkan/drm.rs
+++ comm/third_party/rust/wgpu-hal/src/vulkan/drm.rs
@@ -79,9 +79,10 @@ impl super::Instance {
 
             // Various platforms use different widths between `dev_t` and `c_int`, so just
             // force-convert to `u64` to keep things portable.
+            // XXX actually, rustc reports this as u32, so use that
             #[allow(clippy::useless_conversion)]
             if [primary_devid, render_devid]
-                .map(u64::from)
+                .map(u32::from)
                 .contains(&drm_stat.st_rdev)
             {
                 physical_device = Some(device)
