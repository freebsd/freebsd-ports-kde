commit 790b371edc5e1c997b824d45ea0f881c997e356b
Author: Christoph Moench-Tegeder <cmt@FreeBSD.org>

    fix type error
    
    this happens only in comm/, not in the main tree
    
    error[E0308]: mismatched types
        --> /wrkdirs/usr/ports/mail/thunderbird/work/thunderbird-138.0/comm/third_party/rust/wgpu-hal/src/vulkan/drm.rs:85:27
         |
    85   |                 .contains(&drm_stat.st_rdev)
         |                  -------- ^^^^^^^^^^^^^^^^^ expected `&u64`, found `&u32`
         |                  |
         |                  arguments to this method are incorrect
         |
         = note: expected reference `&u64`
                    found reference `&u32`

diff --git comm/third_party/rust/wgpu-hal/.cargo-checksum.json comm/third_party/rust/wgpu-hal/.cargo-checksum.json
index 0e175873a76..66e6d33525f 100644
--- comm/third_party/rust/wgpu-hal/.cargo-checksum.json
+++ comm/third_party/rust/wgpu-hal/.cargo-checksum.json
@@ -1 +1 @@
-{"files":{"Cargo.toml":"4b08833d522e85af6f0ce0cae079fd7e95a4b127217cb34c9afa9671492925ab","LICENSE.APACHE":"a6cba85bc92e0cff7a450b1d873c0eaa2e9fc96bf472df0247a26bec77bf3ff9","LICENSE.MIT":"c7fea58d1cfe49634cd92e54fc10a9d871f4b275321a4cd8c09e449122caaeb4","README.md":"cf9e84804a635e4a8a9fefc596be9da6bf7354dde0d105e27d56a12cb20dd8e3","build.rs":"40c99bddda32846afd639d84b9a160ddab338092560b5cb3402112ff37ab4fba","examples/halmark/main.rs":"6caf4d6ada6f2180fcd704cfd27bda3a5d58bbe8778a55e1c4ffcabb4ec723f0","examples/halmark/shader.wgsl":"26c256ec36d6f0e9a1647431ca772766bee4382d64eaa718ba7b488dcfb6bcca","examples/raw-gles.em.html":"70fbe68394a1a4522192de1dcfaf7d399f60d7bdf5de70b708f9bb0417427546","examples/raw-gles.rs":"288dae4c701aa7e5ba498fdd03ea42e1046a27db0914d93c88a43a7953cb9064","examples/ray-traced-triangle/main.rs":"ecbd4625050f1be3d61af83f4effffa11b8baaef127ec17a2d3ca0465cb7d967","examples/ray-traced-triangle/shader.wgsl":"cc10caf92746724a71f6dd0dbc3a71e57b37c7d1d83278556805a535c0728a9d","src/auxil/dxgi/conv.rs":"f451fb0c416a637f11542e9b166a48800be50c48925779b06d40a9bc87958d97","src/auxil/dxgi/exception.rs":"ccf59e9286aa8cceb96155de8e89153676dbce0d914646f502beb5f3e32c4246","src/auxil/dxgi/factory.rs":"1d8cfeb733e34b97d5b879705fc5621ab7b9be578aebb3c3ddadea992effb566","src/auxil/dxgi/mod.rs":"e6c5cc3b73bb97742135d6f35308c42f0822304764978fb8dabb0e848863352a","src/auxil/dxgi/name.rs":"ff942da0da1a497ee4d2be21604f7ba9fae963588105b3d1f63aae1a0c536e82","src/auxil/dxgi/result.rs":"a3b52fd87e512bb94df79c8cadf89a1fbcf7ab0a3a8c7fa1280c2e54cb75d96e","src/auxil/dxgi/time.rs":"b6911800be3873cbe277b2534b3839c6f005f3d9a09341aace4752e207d584a2","src/auxil/mod.rs":"540b9250d9f0e0af709245ce1e284eaca15b27d47550b0ebba2a512da1666c48","src/auxil/renderdoc.rs":"e687710ea0c9e88c9be0e2acd39d136635b835ffb941886b875811b3ec945080","src/dx12/adapter.rs":"33ab5352d9fda9f3d666276b8d4b9d19a2a3e00864e8aad3e928bf7b83af23f1","src/dx12/command.rs":"2a56e298db816126b25af47304481f6568cb126a2a2a8b739bfbc2531c552fae","src/dx12/conv.rs":"fa0b9936f391662390aa453c169b26aaf65ed3c7a00087c0f8a6b99de22614e7","src/dx12/descriptor.rs":"e3371d7539c44ffc4c7b958b6d948855200bb3c4e7da9577835cc0bca695807b","src/dx12/device.rs":"4f4c3e030e68280d0e6f37050853b14dd084299197e9542f23052831897a649b","src/dx12/instance.rs":"f2ef183443210f3bf1a95d5e750f316042e8b1929e59c8c9145351447ac9e922","src/dx12/mod.rs":"ca47fd08630d9b027ef5436da123ae712e9fe845d845324cbce60e9d9bb19a91","src/dx12/sampler.rs":"64464c32452ee63ac49014a03ca3be894ab9b74e11dc853567b5da5f846faae6","src/dx12/shader_compilation.rs":"19daac0f8a1800417ee0e1e1f46bbb4f49b07954468b1abe0182c551679c9d99","src/dx12/suballocation.rs":"85e9077cd293730e4837888b24f348a1e44dde7af7444e8547a401f5f8fdf4a8","src/dx12/types.rs":"3fc7619fc09303eb3c936d4ded6889f94ce9e8b9aa62742ce900baa1b1e1cca7","src/dx12/view.rs":"3f4c23a34b86e3bfbcb11169a9dec5e1c21425e7ecad846b36c159ced0138cee","src/dynamic/adapter.rs":"e93f7d082a3950c9e8ccff8a631d251c7598b4b25dda9fe6347dadfa3ba07829","src/dynamic/command.rs":"a67394c333b2f0773717d64d7ca9a900868e7ce46dac832ec09a17a5a84bfa43","src/dynamic/device.rs":"f00305d56cac0636d4cb86cc44ee69c291bfb3d5f6d5e8d745adce9a28a6a1d5","src/dynamic/instance.rs":"7b515c201e1ca24f24439544dbfa1d19ea1412a4f89bd803e009aed13b021e55","src/dynamic/mod.rs":"b02a3c11b22c896cf66ef206f5d4bb4e24988ecadc29972c572baf347f54aa04","src/dynamic/queue.rs":"d76abb4797e90253386d24584f186dbe1909e772560156b2e891fa043cfefbdc","src/dynamic/surface.rs":"4328c2fe86931f50aa00ac3d6982d0879b774eebf7a507903d1b1898c891fb4d","src/gles/adapter.rs":"5c92a2a4e46ba098ee9a2ce2e158d29b6b1ee6c72293a665df2664b04f2f6b12","src/gles/command.rs":"b4e0df28700b9709c24b14cec734cce7f256f6ade6220715e9bd71d4601daf77","src/gles/conv.rs":"7f885dd2bc72641d22f8f2e688ebdd857663bfe315f1b5364ea302f99a05adbf","src/gles/device.rs":"a1e66b2007cedd2d7f28c8f1589757588e143e621e2e52b1813de65482c61150","src/gles/egl.rs":"a47cc262bfe590ecdf4e02e60106231900c26d18f64ad071326d77cffc718ead","src/gles/emscripten.rs":"316d2bb6f2a4bb126dbe68a223f7393399080d116b61c39504454acdf4f9cfaf","src/gles/fence.rs":"083cd49747aba6272002aba0b0c37e5768cdbc2a1b8bacd1a244ee905d3f7b0f","src/gles/mod.rs":"ebfb44300a16e9dbf373bed4b768d8336e345cf12f3d0f496c2e33c65fec6230","src/gles/queue.rs":"b4747ce2c1471a176d3b5205331735f0dd8a430572a3708e7e089bba32e10033","src/gles/shaders/clear.frag":"9133ed8ed97d3641fbb6b5f5ea894a3554c629ccc1b80a5fc9221d7293aa1954","src/gles/shaders/clear.vert":"a543768725f4121ff2e9e1fb5b00644931e9d6f2f946c0ef01968afb5a135abd","src/gles/shaders/srgb_present.frag":"dd9a43c339a2fa4ccf7f6a1854c6f400cabf271a7d5e9230768e9f39d47f3ff5","src/gles/shaders/srgb_present.vert":"6e85d489403d80b81cc94790730bb53b309dfc5eeede8f1ea3412a660f31d357","src/gles/web.rs":"cb5940bf7b2381811675011b640040274f407a7d1908d0f82c813d6a9d3b00f7","src/gles/wgl.rs":"bff33c7ce78c5618b2d656398c2d13d3da980b9ce89c77f774adf9f6132563ef","src/lib.rs":"f25a7e543bdbc6fe9455d0030fd7b248b638a8a7511eada21c31413a951e1d35","src/metal/adapter.rs":"39c2818d9022f5eff2ced05945436280e30c36845dcb03df139a68ae418e962b","src/metal/command.rs":"92a84adf921c24d2f12801c3046b67202cff55508522f168a4eb0c45267995fb","src/metal/conv.rs":"17f37cf5fea93b437e5ec9cfff9ae96e2c6a7f23fb2d3890616fb8dbeb5f13c4","src/metal/device.rs":"d16ca92f0a8faa4ee65a9c8946c88e419b833f60c4c43dfa1c2150c544280a2e","src/metal/layer_observer.rs":"8370a6e443d01739b951b8538ee719a03b69fc0cbac92c748db418fbcc8837b5","src/metal/mod.rs":"42d5724f0501c0b59985c73b621720e1cd273958c02f9e4f12ac90254c7c2421","src/metal/surface.rs":"70f580d37e9f3d8a081fcf4ffd9007c8af1efe63a1a857ddeb6538b4e37d39e8","src/metal/time.rs":"c32d69f30e846dfcc0e39e01097fb80df63b2bebb6586143bb62494999850246","src/noop/buffer.rs":"89a938411204b33082200a1306fe589587de15142392d7ec591676512e4cfeb2","src/noop/command.rs":"917b70ac315101633094b3f92744310a60940747a2cc8a9368141200ce0ed1fd","src/noop/mod.rs":"3167878f073b3865092d7ad0ec944162bc627b7d6d5e0a7931d46f1a47c3918c","src/vulkan/adapter.rs":"78479a19f5825a04280dfe3ff1e68ac22dda09f230774ccc2eb48ae7b379ce3c","src/vulkan/command.rs":"3215c56af5e5c4964f245c3bbbebffc62e2ccd394bce99b39491acfd1e6100a6","src/vulkan/conv.rs":"1e86415bf58b86232c0811dfa982beea63190788b3e65d5b8fb22fa0a6e2027d","src/vulkan/device.rs":"4ef127d4f3f56264a087bd669a268418d7024fb5a28ae8fc1670c4d0a73a78fa","src/vulkan/drm.rs":"b40575f188b2668e60c96ad62970b993930fd25c668a402b17086ed2f1b76b4e","src/vulkan/instance.rs":"368c075aeca4e493f944d0abc99339a714d589d8ea8b3f7215a08c85b8aff663","src/vulkan/mod.rs":"48607d6e43d46302d64904dd77644e820a537b5eb896087e75b55a7a93e5b3e2","src/vulkan/sampler.rs":"f65729d6df5cce681b7756b3e48074017f0c7f42da69ca55e26cc723cd14ad59"},"package":null}
\ No newline at end of file
+{"files":{"Cargo.toml":"4b08833d522e85af6f0ce0cae079fd7e95a4b127217cb34c9afa9671492925ab","LICENSE.APACHE":"a6cba85bc92e0cff7a450b1d873c0eaa2e9fc96bf472df0247a26bec77bf3ff9","LICENSE.MIT":"c7fea58d1cfe49634cd92e54fc10a9d871f4b275321a4cd8c09e449122caaeb4","README.md":"cf9e84804a635e4a8a9fefc596be9da6bf7354dde0d105e27d56a12cb20dd8e3","build.rs":"40c99bddda32846afd639d84b9a160ddab338092560b5cb3402112ff37ab4fba","examples/halmark/main.rs":"6caf4d6ada6f2180fcd704cfd27bda3a5d58bbe8778a55e1c4ffcabb4ec723f0","examples/halmark/shader.wgsl":"26c256ec36d6f0e9a1647431ca772766bee4382d64eaa718ba7b488dcfb6bcca","examples/raw-gles.em.html":"70fbe68394a1a4522192de1dcfaf7d399f60d7bdf5de70b708f9bb0417427546","examples/raw-gles.rs":"288dae4c701aa7e5ba498fdd03ea42e1046a27db0914d93c88a43a7953cb9064","examples/ray-traced-triangle/main.rs":"ecbd4625050f1be3d61af83f4effffa11b8baaef127ec17a2d3ca0465cb7d967","examples/ray-traced-triangle/shader.wgsl":"cc10caf92746724a71f6dd0dbc3a71e57b37c7d1d83278556805a535c0728a9d","src/auxil/dxgi/conv.rs":"f451fb0c416a637f11542e9b166a48800be50c48925779b06d40a9bc87958d97","src/auxil/dxgi/exception.rs":"ccf59e9286aa8cceb96155de8e89153676dbce0d914646f502beb5f3e32c4246","src/auxil/dxgi/factory.rs":"1d8cfeb733e34b97d5b879705fc5621ab7b9be578aebb3c3ddadea992effb566","src/auxil/dxgi/mod.rs":"e6c5cc3b73bb97742135d6f35308c42f0822304764978fb8dabb0e848863352a","src/auxil/dxgi/name.rs":"ff942da0da1a497ee4d2be21604f7ba9fae963588105b3d1f63aae1a0c536e82","src/auxil/dxgi/result.rs":"a3b52fd87e512bb94df79c8cadf89a1fbcf7ab0a3a8c7fa1280c2e54cb75d96e","src/auxil/dxgi/time.rs":"b6911800be3873cbe277b2534b3839c6f005f3d9a09341aace4752e207d584a2","src/auxil/mod.rs":"540b9250d9f0e0af709245ce1e284eaca15b27d47550b0ebba2a512da1666c48","src/auxil/renderdoc.rs":"e687710ea0c9e88c9be0e2acd39d136635b835ffb941886b875811b3ec945080","src/dx12/adapter.rs":"33ab5352d9fda9f3d666276b8d4b9d19a2a3e00864e8aad3e928bf7b83af23f1","src/dx12/command.rs":"2a56e298db816126b25af47304481f6568cb126a2a2a8b739bfbc2531c552fae","src/dx12/conv.rs":"fa0b9936f391662390aa453c169b26aaf65ed3c7a00087c0f8a6b99de22614e7","src/dx12/descriptor.rs":"e3371d7539c44ffc4c7b958b6d948855200bb3c4e7da9577835cc0bca695807b","src/dx12/device.rs":"4f4c3e030e68280d0e6f37050853b14dd084299197e9542f23052831897a649b","src/dx12/instance.rs":"f2ef183443210f3bf1a95d5e750f316042e8b1929e59c8c9145351447ac9e922","src/dx12/mod.rs":"ca47fd08630d9b027ef5436da123ae712e9fe845d845324cbce60e9d9bb19a91","src/dx12/sampler.rs":"64464c32452ee63ac49014a03ca3be894ab9b74e11dc853567b5da5f846faae6","src/dx12/shader_compilation.rs":"19daac0f8a1800417ee0e1e1f46bbb4f49b07954468b1abe0182c551679c9d99","src/dx12/suballocation.rs":"85e9077cd293730e4837888b24f348a1e44dde7af7444e8547a401f5f8fdf4a8","src/dx12/types.rs":"3fc7619fc09303eb3c936d4ded6889f94ce9e8b9aa62742ce900baa1b1e1cca7","src/dx12/view.rs":"3f4c23a34b86e3bfbcb11169a9dec5e1c21425e7ecad846b36c159ced0138cee","src/dynamic/adapter.rs":"e93f7d082a3950c9e8ccff8a631d251c7598b4b25dda9fe6347dadfa3ba07829","src/dynamic/command.rs":"a67394c333b2f0773717d64d7ca9a900868e7ce46dac832ec09a17a5a84bfa43","src/dynamic/device.rs":"f00305d56cac0636d4cb86cc44ee69c291bfb3d5f6d5e8d745adce9a28a6a1d5","src/dynamic/instance.rs":"7b515c201e1ca24f24439544dbfa1d19ea1412a4f89bd803e009aed13b021e55","src/dynamic/mod.rs":"b02a3c11b22c896cf66ef206f5d4bb4e24988ecadc29972c572baf347f54aa04","src/dynamic/queue.rs":"d76abb4797e90253386d24584f186dbe1909e772560156b2e891fa043cfefbdc","src/dynamic/surface.rs":"4328c2fe86931f50aa00ac3d6982d0879b774eebf7a507903d1b1898c891fb4d","src/gles/adapter.rs":"5c92a2a4e46ba098ee9a2ce2e158d29b6b1ee6c72293a665df2664b04f2f6b12","src/gles/command.rs":"b4e0df28700b9709c24b14cec734cce7f256f6ade6220715e9bd71d4601daf77","src/gles/conv.rs":"7f885dd2bc72641d22f8f2e688ebdd857663bfe315f1b5364ea302f99a05adbf","src/gles/device.rs":"a1e66b2007cedd2d7f28c8f1589757588e143e621e2e52b1813de65482c61150","src/gles/egl.rs":"a47cc262bfe590ecdf4e02e60106231900c26d18f64ad071326d77cffc718ead","src/gles/emscripten.rs":"316d2bb6f2a4bb126dbe68a223f7393399080d116b61c39504454acdf4f9cfaf","src/gles/fence.rs":"083cd49747aba6272002aba0b0c37e5768cdbc2a1b8bacd1a244ee905d3f7b0f","src/gles/mod.rs":"ebfb44300a16e9dbf373bed4b768d8336e345cf12f3d0f496c2e33c65fec6230","src/gles/queue.rs":"b4747ce2c1471a176d3b5205331735f0dd8a430572a3708e7e089bba32e10033","src/gles/shaders/clear.frag":"9133ed8ed97d3641fbb6b5f5ea894a3554c629ccc1b80a5fc9221d7293aa1954","src/gles/shaders/clear.vert":"a543768725f4121ff2e9e1fb5b00644931e9d6f2f946c0ef01968afb5a135abd","src/gles/shaders/srgb_present.frag":"dd9a43c339a2fa4ccf7f6a1854c6f400cabf271a7d5e9230768e9f39d47f3ff5","src/gles/shaders/srgb_present.vert":"6e85d489403d80b81cc94790730bb53b309dfc5eeede8f1ea3412a660f31d357","src/gles/web.rs":"cb5940bf7b2381811675011b640040274f407a7d1908d0f82c813d6a9d3b00f7","src/gles/wgl.rs":"bff33c7ce78c5618b2d656398c2d13d3da980b9ce89c77f774adf9f6132563ef","src/lib.rs":"f25a7e543bdbc6fe9455d0030fd7b248b638a8a7511eada21c31413a951e1d35","src/metal/adapter.rs":"39c2818d9022f5eff2ced05945436280e30c36845dcb03df139a68ae418e962b","src/metal/command.rs":"92a84adf921c24d2f12801c3046b67202cff55508522f168a4eb0c45267995fb","src/metal/conv.rs":"17f37cf5fea93b437e5ec9cfff9ae96e2c6a7f23fb2d3890616fb8dbeb5f13c4","src/metal/device.rs":"d16ca92f0a8faa4ee65a9c8946c88e419b833f60c4c43dfa1c2150c544280a2e","src/metal/layer_observer.rs":"8370a6e443d01739b951b8538ee719a03b69fc0cbac92c748db418fbcc8837b5","src/metal/mod.rs":"42d5724f0501c0b59985c73b621720e1cd273958c02f9e4f12ac90254c7c2421","src/metal/surface.rs":"70f580d37e9f3d8a081fcf4ffd9007c8af1efe63a1a857ddeb6538b4e37d39e8","src/metal/time.rs":"c32d69f30e846dfcc0e39e01097fb80df63b2bebb6586143bb62494999850246","src/noop/buffer.rs":"89a938411204b33082200a1306fe589587de15142392d7ec591676512e4cfeb2","src/noop/command.rs":"917b70ac315101633094b3f92744310a60940747a2cc8a9368141200ce0ed1fd","src/noop/mod.rs":"3167878f073b3865092d7ad0ec944162bc627b7d6d5e0a7931d46f1a47c3918c","src/vulkan/adapter.rs":"78479a19f5825a04280dfe3ff1e68ac22dda09f230774ccc2eb48ae7b379ce3c","src/vulkan/command.rs":"3215c56af5e5c4964f245c3bbbebffc62e2ccd394bce99b39491acfd1e6100a6","src/vulkan/conv.rs":"1e86415bf58b86232c0811dfa982beea63190788b3e65d5b8fb22fa0a6e2027d","src/vulkan/device.rs":"4ef127d4f3f56264a087bd669a268418d7024fb5a28ae8fc1670c4d0a73a78fa","src/vulkan/drm.rs":"d623da0779e70085e3c3fe371c26cb12fd5c65c255cc14c92f9225aea1916d59","src/vulkan/instance.rs":"368c075aeca4e493f944d0abc99339a714d589d8ea8b3f7215a08c85b8aff663","src/vulkan/mod.rs":"48607d6e43d46302d64904dd77644e820a537b5eb896087e75b55a7a93e5b3e2","src/vulkan/sampler.rs":"f65729d6df5cce681b7756b3e48074017f0c7f42da69ca55e26cc723cd14ad59"},"package":null}
diff --git comm/third_party/rust/wgpu-hal/src/vulkan/drm.rs comm/third_party/rust/wgpu-hal/src/vulkan/drm.rs
index f0a8413cacc..7468a5399a9 100644
--- comm/third_party/rust/wgpu-hal/src/vulkan/drm.rs
+++ comm/third_party/rust/wgpu-hal/src/vulkan/drm.rs
@@ -79,9 +79,10 @@ impl super::Instance {
 
             // Various platforms use different widths between `dev_t` and `c_int`, so just
             // force-convert to `u64` to keep things portable.
+            // XXX actually, rustc reports this as u32, so use that
             #[allow(clippy::useless_conversion)]
             if [primary_devid, render_devid]
-                .map(u64::from)
+                .map(u32::from)
                 .contains(&drm_stat.st_rdev)
             {
                 physical_device = Some(device)
